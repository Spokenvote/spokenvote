#voteModal.modal(data-width='400px' ng-controller="VoteNewCtrl" )
  .modal-header
    .pull-right(class='close' data-dismiss='modal') &times;
    %h2 Support Proposal
    .container(ng-class="alertclass" ng-show='addvote_alert')
      %a.close(data-dismiss="alert") &#215;
      .content
        .row
          #alertContainer
            %ul
              %span {{addvote_result}}
              %span(ng-repeat="(key, values) in jsonErrors")
                %li(ng-repeat="value in values")
                  {{key | capitalize}} {{value}}
  .modal-body
    %form(name='newVoteForm' ng-submit="addVote()")
      %ng-include(src="'/assets/shared/_currentuser_avatar.html.haml'")
      %h3 Ok, let's add Support!
      %fieldset
        .control-group
          .controls
            %textarea(id='vote_comment' type='text' class='full-width' ng-model='newVote.comment' required ng-minLength='7' ng-maxLength='140' placeholder='Please use between 7 and 140 characters in this space to explain why you would like to support {{ proposal.statement }}.')
  .modal-footer
    %fieldset
      .control-group
        .controls
          %button( ng-click="addVote()" class='btn btn-primary btn-bold' ng-hide='modal.saved' ng-disabled='!newVoteForm.$valid' ) Vote for this proposal <i class="icon-ok"></i>
          %button( ng-click="clearVote()" class='btn btn-primary btn-bold' data-dismiss='modal' ng-show='modal.saved' ) Ok <i class="icon-ok"></i>
